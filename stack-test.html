<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<script type="text/javascript" src="assets/js/vendor/undoStack/UndoManager.js"></script>
	</head>
	<body>

	</body>
	<script>
		var undoManager = new UndoManager(),
		    people = {},
		    addPerson,
		    removePerson,
		    createPerson;        

		addPerson = function(id, name) {
		    people[id] = name;
		};

		removePerson = function(id) {
		    delete people[id];
		};

		createPerson = function (id, name) {
		    // first creation
		    addPerson(id, name);

		    // make undo-able
		    undoManager.add({
		        undo: function() {
		            removePerson(id)
		        },
		        redo: function() {
		            addPerson(id, name);
		        }
		    });
		}

		createPerson(101, "John");
		createPerson(102, "Mary");

		console.log("people", people); // {101: "John", 102: "Mary"}

		undoManager.undo();
		console.log("people", people); // {101: "John"}

		undoManager.undo();
		console.log("people", people); // {}

		undoManager.redo();
		console.log("people", people); // {101: "John"}
	</script>
</html>